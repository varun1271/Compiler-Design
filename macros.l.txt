%{
#include <stdio.h>
int nmacro = 0, nheader = 0;
%}

%%

^#define                     { nmacro++; }
^#include                    { nheader++; }
.|\n                        { /* ignore other lines */ }

%%

int yywrap(void) {
    return 1;
}

int main() {
    yylex();
    printf("Number of macros defined = %d\n", nmacro);
    printf("Number of header files included = %d\n", nheader);
    return 0;
}