%{
#include <stdio.h>
int comment_count = 0;
%}

%%
"//".*                      { comment_count++; }                 /* single-line comment */
"/*"([^*]|\*+[^*/])*"*/"    { comment_count++; }                 /* multi-line comment */
\n                          { /* ignore newlines */ }
.                           { /* ignore other characters */ }
%%

int yywrap(void) { return 1; }

int main() {
    yyin = fopen("input.c", "r");   /* input file */
    if (!yyin) {
        printf("Error opening input file.\n");
        return 1;
    }
    yylex();
    printf("\nTotal number of comment lines = %d\n", comment_count);
    return 0;
}